= form_for(@appointment, :html => { :class => "form-horizontal" }) do |f|
  - if @appointment.errors.any?
    %div#errorExplanation
      %h2
        = pluralize(@appointment.errors.count, "error")
        prohibited this customer from being saved
      %ul
      - @appointment.errors.full_messages.each do |msg|
        %li
          = msg
          
  %fieldset
    %div.control-group
      = f.label :customer_id, "With whom is the appointment?", { :class => "control-label" }
      %div.controls
        = f.select :customer_id, options_from_collection_for_select(@customers, :id, :email)
  
    %div.control-group
      = f.label :date, { :class => "control-label" }
      %div.controls
        = f.text_field :date, { "type" => "date", :class => "hidden", :value => @appointment.try(:date).try(:strftime,'%Y-%m-%d') }
  
    %div.control-group
      = f.label :time, { :class => "control-label" }
      %div.controls
        = f.text_field :time, { :placeholder => "12:00 PM", "data-role" => "datebox", "data-options" => "{'mode': 'timeflipbox', 'timeFormatOverride': 12}" }
    
    %div.control-group
      = f.label :appointment_type, { :class => "control-label" }
      %div.controls
        = f.select :appointment_type, options_for_select(["Measurement", "Quote", "Other"])

    %div.form-actions
      = f.submit( :class => "btn btn-primary btn-large" )
      = link_to "Cancel", :back, { :class => "btn btn-large" }
      = f.hidden_field :status, :value => "Pending"
