= form_for @company, :html => { :class => "form-horizontal", :id => "company_form" } do |f|
  - content_for :subnav do
    .pull-right
      %input{ :type => :submit, :value => "Save", :class => "btn btn-primary btn-large", :form => "company_form" }

  = render "shared/error_messages", :target => @company
  %fieldset
    .control-group
      = f.label "Company Name", { :class => "control-label" }
      .controls
        = f.text_field :name, :placeholder => "Your Store"
    .control-group
      = f.label :logo, { :class => "control-label" }
      .controls
        = f.file_field :logo
        - if @company.logo_file_name
          %br
          %p= image_tag @company.logo.url(:large)
          %p= link_to "Remove Logo", company_detatch_logo_path(@company), :class => "btn btn-mini btn-danger", :confirm => "Are you sure you want to remove your logo?", :method => "put"
        .hidden-desktop
          %br
          %p.alert.alert-success
            You can upload a logo here from a
            %strong non-mobile
            device.
    .control-group
      = f.label "Address", { :class => "control-label" }
      .controls.docs-input-sizes
        = f.text_field :address_1, { :placeholder => "100 Happy St." }
        = f.text_field :city, :placeholder => "City"
        = f.text_field :state, :placeholder => "State"
        = f.text_field :zip, :placeholder => "Zip"
    .control-group
      = f.label "Phone Number", { :class => "control-label" }
      .controls
        = f.text_field :phone, :placeholder => "(555) 123-4567"
    .control-group
      = f.label "website", { :class => "control-label" }
      .controls
        = f.text_field :website, :placeholder => "awesomeproducts.com"
        %button#toggle_scraping_config.hidden-phone{ :onclick => "return false;", :class => "btn", "data-toggle" => "button" }
          Configure Scraping
        %div.scraping_config.well
          %h3
            Scraping Configuration
            - if @company.scraping_configured
              - if @company.currently_scraping == true
                %small.label.label-success
                  Currently Scraping
              - elsif @company.scraping_configured == true and @company.last_scrape == nil
                %small.label.label-info
                  Scrape Scheduled
              - elsif @company.last_scrape != nil
                %small.label.label-success
                  = "#{Sample.where(['company_id = ?', @company.id]).length} Products Scraped"
          %hr
          .control-group
            = f.label "Description", { :class => "control-label" }
            .controls.selector
              = f.select :description_type, ['id', 'class', 'custom']
              = f.text_field :description_location, { :class => "span3" }
          .control-group
            = f.label "Name", { :class => "control-label" }
            .controls.selector
              = f.select :name_type, ['id', 'class', 'custom']
              = f.text_field :name_location, { :class => "span3" }
          .control-group
            = f.label "Price", { :class => "control-label" }
            .controls.selector
              = f.select :price_type, ['id', 'class', 'custom']
              = f.text_field :price_location, { :class => "span3" }
          .control-group
            = f.label "SKU #", { :class => "control-label" }
            .controls.selector
              = f.select :product_number_type, ['id', 'class', 'custom']
              = f.text_field :product_number_location, { :class => "span3" }
          .control-group
            = f.label "Image", { :class => "control-label" }
            .controls.selector
              = f.select :image_type, ['id', 'class', 'custom']
              = f.text_field :image_location, { :class => "span3" }
          %hr
          .control-group
            = f.label "Scrape Frequency", { :class => "control-label" }
            .controls.selector
              = f.select :run_every_x_days, [['daily',1],['weekly',7],['monthly',30]]            
    .control-group
      = f.label "Facebook page", { :class => "control-label" }
      .controls
        = f.text_field :facebook, :placeholder => "http://facebook.com/YourPage"
    .control-group
      = f.label "Sample Name", { :class => "control-label" }
      .controls
        = f.text_field :sample_name, :placeholder => "Sample"
        %p
          .alert.alert-info
            This term describes objects that can be checked in and out of your store. Some examples are "Demo", "Bike", "Trial".
    %hr
